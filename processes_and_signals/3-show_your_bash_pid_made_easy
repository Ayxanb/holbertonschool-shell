#!/usr/bin/env bash
# Iterate through all numerical directories in /proc, which represent PIDs
for proc_dir in /proc/[0-9]*; do
    pid=$(basename "$proc_dir")
    
    if [ -f "$proc_dir/comm" ]; then
        comm_name=$(cat "$proc_dir/comm")
        echo "$comm_name" | grep -i bash > /dev/null

        if [ $? -eq 0 ]; then
            echo "$pid $comm_name"
        fi
    fi
done

